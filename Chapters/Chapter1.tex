% Chapter 1

\chapter{Introducción general} % Main chapter title

\label{Chapter1} % For referencing the chapter elsewhere, use \ref{Chapter1} 
\label{IntroGeneral}

En este capítulo se realiza una breve introducción a la necesidad que condujo al desarrollo del trabajo. Se presenta a los sistemas embebidos, la inteligencia artificial y el estado del arte de dispositivos similares. Asimismo, se explica el objetivo y los alcances del trabajo.

%----------------------------------------------------------------------------------------

% Define some commands to keep the formatting separated from the content 
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\tabhead}[1]{\textbf{#1}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{\bfseries#1}}
\newcommand{\option}[1]{\texttt{\itshape#1}}
\newcommand{\grados}{$^{\circ}$}

%----------------------------------------------------------------------------------------

%\section{Introducción}

%----------------------------------------------------------------------------------------
\section{La inteligencia artificial y los sistemas embebidos en la agricultura}

En las últimas décadas, la cosecha de frutos ha experimentado un notable proceso de transformación, impulsado por la integración de tecnologías como los sistemas embebidos y la inteligencia artificial. Estos sistemas, capaces de realizar tareas específicas en tiempo real, se han vuelto fundamentales en la modernización de este sector.

Por otra parte, una de las actividades clave consiste en estimar, lo más exactamente posible, la producción total, ya que esto condiciona un conjunto importante de aspectos logísticos que deben ser atendidos correctamente durante la recolección.

Actualmente, el volumen de cosecha se estima al contar los frutos por unidad de superficie en una etapa avanzada de desarrollo. Sin embargo, esta evaluación tardía es demasiado cercana a la cosecha y muy dificultosa en plantaciones medianas o grandes.

Es en este contexto, el prototipo desarrollado permite recolectar imágenes de la plantación con el fin de realizar una detección de objetos. De esta forma, se obtiene una estimación de los frutos para facilitar la toma de decisiones operativas y estratégicas \citep{Mendoza2021}.





\subsection{Especificaciones funcionales del prototipo}
\label{requerimientos_del_sistema}

Se detallan los requerimientos del prototipo, con las funcionalidades y características implementadas.

\begin{enumerate}
	\item Funcionalidades principales del sistema:
		\begin{enumerate}
			\item El sistema registró la temperatura del ambiente.
			\item El sistema registró la humedad del ambiente.
			\item El sistema informó el espacio disponible en la tarjeta microSD.
            \item El sistema informó la cantidad de fotografías almacenadas.
            \item El sistema detectó los frutos en las imágenes capturadas.
            \item El sistema informó el volumen estimado de cosecha.
		\end{enumerate}
	\item Características adicionales del sistema:
		\begin{enumerate}
			\item El sistema resultó escalable, lo que permite la incorporación de nuevos sensores en el futuro.
			\item El firmware estuvo modularizado.
            \item El firmware se desarrolló sobre un sistema operativo de tiempo real.
		\end{enumerate}
    \item Funcionalidades de la interfaz gráfica en la pantalla LCD:
		\begin{enumerate}
			\item La pantalla mostró los valores de humedad y temperatura.
			\item La pantalla mostró el espacio disponible en la tarjeta microSD.
            \item La pantalla mostró la cantidad de fotografías almacenadas.
            \item La información en pantalla se actualizó cada 5 segundos.
		\end{enumerate}
    \item Funcionalidades de interoperabilidad:
		\begin{enumerate}
			\item Las fotografías se almacenaron en formato de archivo JPG.
			\item Las imágenes capturadas alcanzaron una resolución mínima de 640 × 480 píxeles.
            \item Cada imagen guardada no superó un tamaño de 10 MB.
		\end{enumerate}
\end{enumerate}

%----------------------------------------------------------------------------------------

\section{Estado del arte}

Durante la etapa de investigación del trabajo, se realizó una búsqueda de productos comerciales en el mercado local e internacional. Se encontraron algunos con características similares al que se pretende desarrollar. Un dato interesante a resaltar es que todos los productos hallados provienen del mercado internacional; no se identificó ningún producto o empresa que ofrezca este tipo de soluciones en el mercado local hasta el momento. A continuación, se describen los hallazgos encontrados.

\subsection{Fruitometry}

La tecnología de estimación digital de cultivos (DCE) de Fruitometry que se muestra en la figura \ref{fig:Fruitometry}, permite a los productores y administradores de huertos observar el desempeño de su cultivo durante la temporada de cosecha. Esto ayuda a maximizar los rendimientos, reducir los costos de cultivo y proporcionar estimaciones antes de la recolección.

Las unidades de campo, montadas en cuatriciclos y vehículos todo terreno, contienen una variedad de cámaras y sensores que capturan información sobre la densidad de cultivos y las características del huerto. Para cada escaneo de la plantación, se toman miles de fotografías. Luego, estas se procesan en tiempo real mediante el motor de inteligencia artificial con aprendizaje profundo para identificar brotes, flores, frutos y características de interés.

Este conjunto de datos se utiliza para crear un mapa de calor de densidad resumido y generar informes que se usan para tomar decisiones sobre cómo mejorar el rendimiento del huerto, identificar áreas que requieren atención y dirigir la mano de obra hacia ellas \citep{WEBSITE:Fruitometry2024}.

\vspace{1cm}
\begin{figure}[htbp]
	\centering
	\includegraphics[width=.5\textwidth]{./Figures/Fruitometry.png}
	\caption{Unidad de campo Fruitometry\protect\footnotemark.}
	\label{fig:Fruitometry}
\end{figure}
\vspace{1cm}

\footnotetext{Imagen tomada de \url{https://fruitometry.com/about-fruitometry/}}

\subsection{Detección de frutos en imágenes de campo}

En un trabajo de investigación realizado en la Universidad Yangling, China, se capturaron imágenes de kiwis en un huerto bajo diferentes condiciones de iluminación y en distintos momentos del día: mañana, tarde y noche, tanto con flash como sin él. Estas fotografías fueron empleadas para la detección de objetos mediante un modelo llamado Faster R-CNN, implementado con la arquitectura VGG16. Después de aplicar las detecciones, el modelo alcanzó una precisión promedio del 87,61 \%. En la figura \ref{fig:Song2019} se muestran los resultados obtenidos.

Este sistema de visión artificial resultó ser eficaz en la detección de diferentes categorías de frutos en el campo y actuó como un soporte fundamental al robot cosechador. Equipado con este sistema, el robot operó de manera continua durante la temporada de cosecha, lo que representó un avance significativo hacia la automatización de la recolección agrícola \citep{Song2019}.

\vspace{1cm}

\begin{figure}[htbp]
	\centering
	\includegraphics[width=.5\textwidth]{./Figures/Song2019.png}
	\caption{Resultados de una detección de objetos\protect\footnotemark.}
	\label{fig:Song2019}
\end{figure}

\vspace{1cm}
\footnotetext{Imagen tomada de "Kiwifruit detection in field
images using Faster R-CNN with VGG16"}

\newpage
\subsection{Calibrado de frutas}

Existen diversos productos comerciales que aplican la detección de objetos para llevar a cabo procesos de clasificación y calibrado de frutas u hortalizas. Estas máquinas mostradas en la figura \ref{fig:calibrado_de_frutas}, estan diseñadas para grandes cadenas de distribución, automatizan la selección y el empaquetado de los productos, lo que incrementa la eficiencia y reduce los tiempos operativos. El sistema funciona a través de una cinta transportadora equipada con cámaras, que capturan imágenes en tiempo real de cada elemento \citep{WEBSITE:Unitec2024}.

Además de identificar cada objeto, las cámaras registran una serie de parámetros importantes, como el diámetro, la longitud, la forma y, en algunos casos, el color. Estos datos se procesan con algoritmos de visión artificial, que clasifican los productos según criterios preestablecidos de calidad.

\vspace{1cm}
\begin{figure}[htbp]
	\centering
	\includegraphics[width=.6\textwidth, height=6cm]{./Figures/calibrado_de_frutas.jpg}
	\caption{Máquina de calibrado de frutas MAF\protect\footnotemark.}
	\label{fig:calibrado_de_frutas}
\end{figure}
\vspace{1cm}

\footnotetext{Imagen tomada de \url{https://tongengineering.com/product/maf-roda-weight-grading/}}

\subsection{Estimación de cosechas mediante imágenes satelitales y drones}

La teledetección se consolidó como una herramienta clave para la estimación de cosechas y el monitoreo de cultivos a gran escala. En la figura \ref{fig:drones_en_cultivos} se muestra el uso de imágenes satelitales de alta resolución, combinadas con sensores multiespectrales y drones equipados con cámaras especializadas, permite la generación de modelos predictivos del rendimiento agrícola. Estos sistemas proporcionan información temprana sobre el estado vegetativo de los cultivos, lo cual facilita la toma de decisiones en diferentes etapas de la producción.

Diversos estudios demostraron que la integración de índices de vegetación, como el NDVI (\textit{Normalized Difference Vegetation Index}), junto con técnicas de aprendizaje automático, ofrecen resultados consistentes en la predicción del volumen de cosecha en plantaciones frutales y agrícolas. A diferencia de los métodos manuales de conteo de frutos, estas tecnologías permiten la evaluación periódica y no invasiva de grandes extensiones de terreno, lo que contribuye a la reducción de costos operativos y a una mayor precisión en la planificación logística.

Por otro lado, la ventaja de estas soluciones radica en su capacidad de escalar desde parcelas individuales hasta áreas regionales, lo que las convierte en una herramienta estratégica para el análisis de la producción agrícola en escenarios de mediana y gran envergadura \citep{Hobart2025}.

\vspace{1cm}
\begin{figure}[htbp]
	\centering
	\includegraphics[width=1\textwidth, height=6cm]{./Figures/drones_en_cultivos.jpg}
	\caption{Imágenes tomadas con drones y satélites\protect\footnotemark.}
	\label{fig:drones_en_cultivos}
\end{figure}
\vspace{1cm}

\footnotetext{Imagen tomada de "Monitoreo de cultivos mediante el uso de sensores remotos montados en drones"}

%----------------------------------------------------------------------------------------

\section{Objetivo y alcances}

En la siguiente sección se describen los objetivos del proyecto, los alcances y los aspectos no considerados en el desarrollo del prototipo.

\subsection{Objetivo}

El objetivo del presente trabajo es el desarrollo e implementación de un prototipo que permita contabilizar el rendimiento esperado de un lote de producción de frutos en forma temprana, a través del procesamiento de imágenes.

\subsection{Alcances contemplados}
El alcance establecido para el trabajo incluyó las siguientes tareas:

\begin{itemize}
\item Implementación de un prototipo funcional que toma fotografías de forma automática.
\item Desarrollo del firmware sobre un sistema operativo de tiempo real.
\item Desarrollo del modelo de detección de objetos.
\item Recolección de imágenes para el proceso de entrenamiento.
\item Establecer como fruto objetivo  de detección el kiwi.
\end{itemize}

\subsection{Aspectos no incluidos en el prototipo}
\label{Aspectos_no_incluidos_en_el_prototipo}
El alcance establecido para el trabajo no incluye las siguientes tareas:

\begin{itemize}
\item Pruebas de funcionamiento en la plantación.
\item Desarrollo de la carcasa contenedora del prototipo.
\end{itemize}

%----------------------------------------------------------------------------------------
